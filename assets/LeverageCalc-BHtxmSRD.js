import{u as h,c as x,a as e,w as f,v as C,b as a,n as d,t as o,F as D,j as P,d as T,e as y,r as _,g as F,f as L,h as M,o as k,i as $}from"./index-CtVat6kI.js";import{D as z,Y as I,X as O,t as N,T as R,G as U,C as m}from"./useChartTheme-DhzHdu0z.js";const X={class:"card mb"},B={class:"g3 mb"},Z={class:"field"},G={class:"field"},Y={class:"field"},j={class:"btn-row"},E={class:"g3 mb"},W={class:"big-stat"},q={class:"big-stat-val teal"},H={class:"big-stat"},J={class:"big-stat"},K={class:"card-label"},Q={class:"tbl-wrap"},ee={class:"tbl"},te={class:"muted"},le={class:"card card-orange mb"},ae={class:"alert alert-orange"},re={__name:"LeverageCalc",setup(se){const s=h(),{fmtINR:v,fmt:b}=F(),p=_(""),r=_("up"),u=g=>(r.value==="up"?1:-1)*(p.value||0)/100*s.capital*g,i=L(()=>u(s.leverage)),S=L(()=>s.capital>0?i.value/s.capital*100:0),A=L(()=>{const g=[-20,-15,-10,-8,-5,-3,-1,0,1,3,5,8,10,15,20],t=[1,2,3,4,5],c=[m.grey,m.blue,m.violet,m.orange,m.red],l=s.leverage;return{backgroundColor:"transparent",grid:U,tooltip:{...R,trigger:"axis",formatter:N},legend:{data:t.map(n=>`${n}×`),textStyle:{color:"rgba(241,243,248,.4)",fontFamily:"DM Mono",fontSize:11},top:0,right:8},xAxis:{...O,data:g.map(n=>`${n>0?"+":""}${n}%`)},yAxis:{...I},dataZoom:z,series:t.map((n,w)=>({name:`${n}×`,type:"line",data:g.map(V=>+(V/100*s.capital*n).toFixed(2)),lineStyle:{color:c[w],width:n===l?3:1.5,type:n===l?"solid":"dashed"},itemStyle:{color:c[w]},showSymbol:!1,smooth:!1,z:n===l?10:1}))}});return(g,t)=>{const c=M("VChart");return k(),x("div",null,[t[17]||(t[17]=e("div",{class:"ph"},[e("div",{class:"ph-icon"},"✕"),e("div",null,[e("div",{class:"ph-title"},"Leverage Calculator"),e("div",{class:"ph-sub"},"See amplified gains and losses at every leverage level for any trade move.")])],-1)),e("div",X,[t[12]||(t[12]=e("div",{class:"card-label"},"Parameters",-1)),e("div",B,[e("div",Z,[t[5]||(t[5]=e("label",null,"Capital (₹)",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=l=>a(s).capital=l),placeholder:"e.g. 10000",step:"1000"},null,512),[[C,a(s).capital,void 0,{number:!0}]])]),e("div",G,[t[6]||(t[6]=e("label",null,"Leverage (1×–5×)",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=l=>a(s).leverage=l),placeholder:"e.g. 2",step:"0.5",min:"1",max:"5"},null,512),[[C,a(s).leverage,void 0,{number:!0}]])]),e("div",Y,[t[7]||(t[7]=e("label",null,"Stock Move (%)",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>p.value=l),placeholder:"e.g. 5",step:"0.5"},null,512),[[C,p.value,void 0,{number:!0}]])])]),e("div",j,[e("button",{class:d(["btn",r.value==="up"?"on-green":""]),onClick:t[3]||(t[3]=l=>r.value="up")},"▲ Stock Up",2),e("button",{class:d(["btn",r.value==="down"?"on-red":""]),onClick:t[4]||(t[4]=l=>r.value="down")},"▼ Stock Down",2)]),e("div",E,[e("div",W,[t[8]||(t[8]=e("div",{class:"big-stat-label"},"Leveraged Capital",-1)),e("div",q,o(a(v)(a(s).capital*a(s).leverage)),1)]),e("div",H,[t[9]||(t[9]=e("div",{class:"big-stat-label"},"Trade P&L",-1)),e("div",{class:d(["big-stat-val",i.value>=0?"green":"red"])},o(i.value>=0?"+":"")+o(a(v)(i.value)),3)]),e("div",J,[t[10]||(t[10]=e("div",{class:"big-stat-label"},"Return on Capital",-1)),e("div",{class:d(["big-stat-val",S.value>=0?"green":"red"])},o(i.value>=0?"+":"")+o(a(b)(S.value,2))+"%",3)])]),e("div",K,"All Leverage Levels at "+o(p.value||0)+"% "+o(r.value==="up"?"gain":"loss"),1),e("div",Q,[e("table",ee,[t[11]||(t[11]=e("thead",null,[e("tr",null,[e("th",null,"Leverage"),e("th",null,"Leveraged Cap"),e("th",null,"P&L (₹)"),e("th",null,"Return on Capital"),e("th",null,"Wipeout Move")])],-1)),e("tbody",null,[(k(),x(D,null,P([1,1.5,2,2.5,3,4,5],l=>e("tr",{key:l,style:$(l===a(s).leverage?"background:rgba(0,207,186,.06)":"")},[e("td",{class:d(l===a(s).leverage?"teal":"")},o(l)+"×",3),e("td",null,o(a(v)(a(s).capital*l)),1),e("td",{class:d(u(l)>=0?"green":"red")},o(u(l)>=0?"+":"")+o(a(v)(u(l))),3),e("td",{class:d(u(l)>=0?"green":"red")},o(a(s).capital>0?a(b)(u(l)/a(s).capital*100,2):"0.00")+"% ",3),e("td",te,o(a(b)(100/l,1))+"%",1)],4)),64))])])])]),e("div",le,[t[13]||(t[13]=e("div",{class:"card-label"},"P&L Curve — All Leverage Levels · Zoom & Pan enabled",-1)),T(c,{option:A.value,autoresize:"",style:{height:"300px"}},null,8,["option"])]),e("div",ae,[t[14]||(t[14]=y(" ⚡ At ",-1)),e("strong",null,o(a(s).leverage)+"× leverage",1),t[15]||(t[15]=y(", a ",-1)),e("strong",null,o(a(b)(100/a(s).leverage,1))+"% adverse move wipes your entire capital",1),y(". A "+o(p.value||0)+"% "+o(r.value==="up"?"upward":"downward")+" move returns ",1),e("strong",null,o(i.value>=0?"+":"")+o(a(v)(i.value)),1),t[16]||(t[16]=y(". ",-1))])])}}};export{re as default};
