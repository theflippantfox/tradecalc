import{c as f,a as e,w as b,v as c,t as s,i as _,b as n,n as A,d as L,e as u,r as x,f as d,g as C,h as E,o as R}from"./index-CtVat6kI.js";import{C as k,D as I,Y as P,X as B,T as O,G as W}from"./useChartTheme-DhzHdu0z.js";const $={class:"card mb"},U={class:"g4 mb"},X={class:"field"},G={class:"field"},Y={class:"field"},j={class:"field"},q={style:{display:"flex","justify-content":"space-between","font-family":"var(--mono)","font-size":".7rem","margin-bottom":"6px"}},F={style:{color:"var(--red)"}},Z={style:{color:"var(--t1)","font-weight":"600"}},H={style:{color:"var(--green)"}},K={class:"rr-bar mb"},Q={class:"g4",style:{"margin-top":"18px"}},J={class:"sc red"},ee={class:"sc-val red"},le={class:"sc green"},te={class:"sc-val green"},se={class:"sc teal"},ae={class:"sc-val teal"},oe={class:"card card-teal mb"},re={key:0},ne={key:1},ie={key:2},pe={__name:"RiskReward",setup(de){const{fmtINR:T,fmt:i,fmtK:z}=C(),r=x(""),v=x(""),p=x(""),m=x(""),M=d(()=>r.value>0?Math.abs((r.value-v.value)/r.value)*100:0),V=d(()=>r.value>0?Math.max(0,(p.value-r.value)/r.value*100):0),y=d(()=>((r.value||0)-(v.value||0))*(m.value||0)),w=d(()=>((p.value||0)-(r.value||0))*(m.value||0)),t=d(()=>y.value>0?w.value/y.value:0),g=d(()=>t.value>0?1/(1+t.value)*100:0),D=d(()=>{const S=Array.from({length:11},(o,a)=>a*10),l=S.map(o=>o/100*w.value-(100-o)/100*y.value);return{backgroundColor:"transparent",grid:W,tooltip:{...O,trigger:"axis",formatter:o=>{var N,h;const a=(N=o[0])==null?void 0:N.value;return`<div style="color:rgba(241,243,248,.4);font-size:.58rem;letter-spacing:1px;margin-bottom:6px">WIN RATE ${(h=o[0])==null?void 0:h.name}</div>
          <span style="color:${a>=0?k.green:k.red};font-weight:500">${a>=0?"+":""}${z(a)}</span>`}},xAxis:{...B,data:S.map(o=>`${o}%`)},yAxis:{...P},dataZoom:I,visualMap:{show:!1,dimension:1,pieces:[{lt:0,color:k.red},{gte:0,color:k.green}]},series:[{name:"Net P&L",type:"line",data:l,lineStyle:{width:2.5},symbolSize:6,smooth:!1,markLine:{silent:!0,symbol:"none",lineStyle:{color:"rgba(255,255,255,.15)",type:"dashed"},data:[{yAxis:0,label:{formatter:"Breakeven",color:"rgba(241,243,248,.3)",fontFamily:"DM Mono",fontSize:10}}]},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:l.some(o=>o>=0)?[{offset:0,color:"rgba(0,230,118,.2)"},{offset:1,color:"transparent"}]:[{offset:0,color:"transparent"},{offset:1,color:"rgba(255,69,96,.15)"}]}}}]}});return(S,l)=>{const o=E("VChart");return R(),f("div",null,[l[21]||(l[21]=e("div",{class:"ph"},[e("div",{class:"ph-icon"},"⚖"),e("div",null,[e("div",{class:"ph-title"},"Risk / Reward"),e("div",{class:"ph-sub"},"Evaluate setup quality. Minimum 1:2 R:R before entering any trade.")])],-1)),e("div",$,[l[13]||(l[13]=e("div",{class:"card-label"},"Trade Setup",-1)),e("div",U,[e("div",X,[l[4]||(l[4]=e("label",null,"Entry (₹)",-1)),b(e("input",{type:"number","onUpdate:modelValue":l[0]||(l[0]=a=>r.value=a),placeholder:"e.g. 250",step:"0.5"},null,512),[[c,r.value,void 0,{number:!0}]])]),e("div",G,[l[5]||(l[5]=e("label",null,"Stop Loss (₹)",-1)),b(e("input",{type:"number","onUpdate:modelValue":l[1]||(l[1]=a=>v.value=a),placeholder:"e.g. 237",step:"0.5"},null,512),[[c,v.value,void 0,{number:!0}]])]),e("div",Y,[l[6]||(l[6]=e("label",null,"Target (₹)",-1)),b(e("input",{type:"number","onUpdate:modelValue":l[2]||(l[2]=a=>p.value=a),placeholder:"e.g. 276",step:"0.5"},null,512),[[c,p.value,void 0,{number:!0}]])]),e("div",j,[l[7]||(l[7]=e("label",null,"Quantity",-1)),b(e("input",{type:"number","onUpdate:modelValue":l[3]||(l[3]=a=>m.value=a),placeholder:"e.g. 50",step:"1"},null,512),[[c,m.value,void 0,{number:!0}]])])]),e("div",q,[e("span",F,"▼ SL ₹"+s(v.value||0),1),e("span",Z,"ENTRY ₹"+s(r.value||0),1),e("span",H,"▲ TGT ₹"+s(p.value||0),1)]),e("div",K,[e("div",{class:"rr-risk",style:_({flex:M.value||1})},"−"+s(n(i)(M.value,1))+"%",5),l[8]||(l[8]=e("div",{style:{width:"2px",background:"var(--t2)","flex-shrink":"0"}},null,-1)),e("div",{class:"rr-reward",style:_({flex:V.value||1})},"+"+s(n(i)(V.value,1))+"%",5)]),e("div",{class:"rr-ratio-label",style:_({color:t.value>=2?"var(--green)":t.value>=1?"var(--orange)":"var(--red)"})}," R : R = 1 : "+s(n(i)(t.value,2)),5),e("div",Q,[e("div",J,[l[9]||(l[9]=e("div",{class:"sc-label"},"Risk (₹)",-1)),e("div",ee,s(n(T)(y.value)),1)]),e("div",le,[l[10]||(l[10]=e("div",{class:"sc-label"},"Reward (₹)",-1)),e("div",te,s(n(T)(w.value)),1)]),e("div",{class:A(["sc",t.value>=2?"green":t.value>=1?"orange":"red"])},[l[11]||(l[11]=e("div",{class:"sc-label"},"R:R Ratio",-1)),e("div",{class:A(["sc-val",t.value>=2?"green":t.value>=1?"orange":"red"])},"1 : "+s(n(i)(t.value,2)),3)],2),e("div",se,[l[12]||(l[12]=e("div",{class:"sc-label"},"Min Win Rate",-1)),e("div",ae,s(n(i)(g.value,1))+"%",1)])])]),e("div",oe,[l[14]||(l[14]=e("div",{class:"card-label"},"Net P&L at Different Win Rates · Hover for values",-1)),L(o,{option:D.value,autoresize:"",style:{height:"270px"}},null,8,["option"])]),e("div",{class:A(["alert",t.value>=2?"alert-green":t.value>=1?"alert-orange":"alert-red"])},[t.value>=2?(R(),f("span",re,[l[15]||(l[15]=u("✓ ",-1)),l[16]||(l[16]=e("strong",null,"Excellent setup.",-1)),u(" 1:"+s(n(i)(t.value,2))+" R:R — you only need to win "+s(n(i)(g.value,1))+"% of trades to be profitable.",1)])):t.value>=1?(R(),f("span",ne,[l[17]||(l[17]=u("⚡ ",-1)),l[18]||(l[18]=e("strong",null,"Acceptable.",-1)),u(" Aim for 1:2+. At this ratio you need "+s(n(i)(g.value,1))+"% win rate just to break even.",1)])):(R(),f("span",ie,[l[19]||(l[19]=u("✗ ",-1)),l[20]||(l[20]=e("strong",null,"Poor setup.",-1)),u(" Below 1:1 needs "+s(n(i)(g.value,1))+"% win rate. Widen your target or tighten your SL.",1)]))],2)])}}};export{pe as default};
